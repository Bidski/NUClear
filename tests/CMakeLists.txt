FIND_PACKAGE(CATCH)
FIND_PACKAGE(ZMQ REQUIRED)
FIND_PACKAGE(Protobuf REQUIRED)

INCLUDE_DIRECTORIES(${CATCH_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${ZMQ_INCLUDE_DIRS})

FILE(GLOB testsrc "${CMAKE_CURRENT_SOURCE_DIR}/tests/*.cpp")

SOURCE_GROUP(Tests FILES ${testsrc})

ADD_EXECUTABLE(tests tests.cpp ${testsrc})
TARGET_LINK_LIBRARIES(tests nuclear ${ZMQ_LIBRARIES} ${PROTOBUF_LIBRARIES})
ADD_TEST(tests tests)
